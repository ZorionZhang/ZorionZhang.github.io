<!doctype html>
<html>

<head>
	<meta charset="utf-8">
	<meta name="apple-mobile-web-app-capable" content="yes" />
	<meta name="format-detection" content="telephone=no">
	<meta http-equiv="x-rim-auto-match" content="none">
	<meta name="viewport" content="initial-scale=1, minimum-scale=1 maximum-scale=1, user-scalable=no">
	<title>HTML5手机验证抽奖领券代码 - 站长素材</title>
	<link rel="stylesheet" href="css/reset.css">
	<link rel="stylesheet" href="css/20160226.css">
	<script src="js/jquery1.8.3.min.js"></script>
	<script src="js/TweenMax.min.js"></script>
	<script src="js/EasePack.js"></script>
	<script type="text/javascript">
		var phoneWidth = parseInt(window.screen.width);
		var phoneScale = phoneWidth/640;
		
		var ua = navigator.userAgent;
		if (/Android (\d+\.\d+)/.test(ua)){
			var version = parseFloat(RegExp.$1);
				// andriod 2.3
				if(version>2.3){
					document.write('<meta name="viewport" content="width=640, minimum-scale = '+phoneScale+', maximum-scale = '+phoneScale+', target-densitydpi=device-dpi">');
				// andriod 2.3以上
			}else{
				document.write('<meta name="viewport" content="width=640, target-densitydpi=device-dpi">');
			}
				// 其他系统
			} else {
				document.write('<meta name="viewport" content="width=640, user-scalable=no, target-densitydpi=device-dpi">');
			}
		</script>
		<style></style>
	</head>

	<body>
		<!-- loading -->
		<div id="loading"></div>
		<!-- 图片展示部分 -->
		<article class="page ws20160229 td_choujiang">
			<header class="td_header">
				<img src="img/tada160509/td_icon03.png">
			</header>
			<div class="td_holder holder">
				<img class="td_xiongmao" src="img/tada160509/td_icon02.png">
				<img class="td_zhuanpan" src="img/tada160509/td_icon06.png">
				<div class="start">
					<img class="star" style="transform: rotate(12deg);" src="img/tada160509/xs_icon02.png">
					<a id="submit" href="#"><img class="zi" src="img/tada160509/xs_icon06.png"></a>
				</div>
				<div class="goto_search">
					<!-- <p>请输入手机号</p> -->
					<a class='goto_search_result' href="#td_search">查询中奖信息</a>
				</div>
				<div class="pack">
					<!-- <p>请输入手机号</p> -->
					<input style="width:100%;" id="phone" placeholder="输入四位开始抽奖" type="text">
				</div>
				<!-- <div class="code">
					<img class="xcode" src="img/tada160509/xcode.png">
				</div> -->
				<div class='explain'>
					<p class='explain_title'>--抽奖说明--</p>
					<span class='explain_content'>
						<p>1.xxxxxxxxxxxxxxxxxx</p>
						<p>2.xxxxxxxxxxxxxxxxxx</p>
						<p>3.xxxxxxxxxxxxxxxxxx</p>
						<p>4.xxxxxxxxxxxxxxxxxx</p>
						<p>5.xxxxxxxxxxxxxxxxxx</p>
					</span>
				</div>
			</div>

			<div class="td_search search">
				<p class='search_title'>--查询中奖信息--</p>
				<a name="td_search"></a>
				<!-- <p>请输入手机号</p> -->
				<input id="search_input" placeholder="输入工号查询" type="text"/>
				<input id="search_button" type="button" value='查询'/>
				<div class='search_result'>

				</div>
			</div>

		</article>
		<!-- 图片展示部分END -->
		<article id="tip">
			<div class="pack">
				<h1>温馨提示</h1>
				<p></p>
				<a href="#">确定</a>
			</div>
		</article>
		<script>
			var checkPhone = function(a)
			{
		// var patrn = /^((?:13|15|18|14|17)\d{9}|0(?:10|2\d|[3-9]\d{2})[1-9]\d{6,7})$/;
		var patrn = /^(\d{4})$/;
		if (!patrn.exec(a)) return false;
		return true;
	};
	$(function(){
		$(window).on("load",function(){
			$("#loading").fadeOut();
		})
			// ========================================浮层控制
			$("#tip .pack a").on("click",function(){
				$("#tip").fadeOut()
				$("#tip .pack p").html("")
				return false;
			})
			function alerths(str){
				$("#tip").fadeIn()
				$("#tip .pack p").html(str)
				return false;
			}
			// ========================================点击提交
			var arr=[12,52,98,144,197,244,285,328]
			
			$("#submit").on("click",function(){
				var str=$("#phone").val()
				
				if(str.length==4&&checkPhone(str)){
				   // 判断是不是11位手机号，为真提交
				   var num=Math.floor(Math.random()*8)
				   var deg=21600+arr[num]
				   TweenMax.set($(".ws20160229 .holder .start .star"),{rotation:0})
				   TweenMax.to($(".ws20160229 .holder .start .star"),3,{rotation:deg,ease:Quint.easeOut,onComplete:stophs})
				   TweenMax.set($(".ws20160229 .holder .start .zi"),{rotation:0})
				   TweenMax.to($(".ws20160229 .holder .start .zi"),3,{rotation:deg,ease:Quint.easeOut})
				   function stophs(){
				   	TweenMax.set($(".ws20160229 .holder .start .zi"),{rotation:0,delay:0.3})
				   	if(num==0){
				   		alerths("站长素材 58元代金券")
				   	}else if(num==1){
				   		alerths("999元 站长素材 货币基金")
				   	}else if(num==2){
				   		alerths("站长素材 50元礼包")
				   	}else if(num==3){
				   		alerths("站长素材   88元代金券  ")
				   	}else if(num==4){
				   		alerths("5元站长素材 货币基金")
				   	}else if(num==5){
				   		alerths("站长素材   100元礼包  ")
				   	}else if(num==6){
				   		alerths("站长素材 300元代金券")
				   	}else if(num==7){
				   		alerths("站长素材 10元代金券 ")
				   	}
				   }
				}else{
					alerths("请正确输入工号！")
				}
				return false;
			})
		})
	</script>
</body>
</html>
